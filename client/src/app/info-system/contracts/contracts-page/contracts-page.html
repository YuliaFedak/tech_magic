<div *ngIf="authApi.isAdmin()" class="create-button">
  <button (click)="createContractDialog()">Create new contract</button>
</div>

<div *ngIf="loading">
  <app-loading-spinner></app-loading-spinner>
</div>


<div *ngIf="contractsList$ | async as contracts">
  <div *ngIf="contracts.length > 0; else noContracts">
    <table>
      <thead>
      <tr>
        <th>Performance</th>
        <th>Role</th>
        <th>Salary</th>
        <th *ngIf="authApi.isAdmin()"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let contract of contracts">
        <td>{{ contract.performance.name }}</td>
        <td>{{ contract.role }}</td>
        <td>{{ contract.salary }}</td>
        <td *ngIf="authApi.isAdmin()" class="td-button">
          <button class="update-button"  (click)="updateContactDialog(contract._id, contract)">Update</button>
          <button class="delete-button" (click)="deleteContractDialog(contract._id)">Delete</button>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="salary-container">
      <span class="salary-label">Total salary:</span>
      <span class="salary-value">{{ totalSalary | currency }}</span>
      <span class="bonus">{{ bonus }}</span>
    </div>

  </div>

  <ng-template #noContracts>
    <h1>No contracts available</h1>
  </ng-template>
</div>
<!--<ng-template #loadingSpinner>-->
<!--    <mat-progress-spinner mode="indeterminate" color="warn"></mat-progress-spinner>-->
<!--</ng-template>-->
